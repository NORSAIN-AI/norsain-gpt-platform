# Custom GPT Agents

This directory contains Custom GPT configurations and templates.

## Directory Structure

- `templates/` - Template library used to create new Custom GPTs (preferred: `templates/custom_gpt`)
- `[gpt-name]/` - Individual Custom GPT instances

## Creating a New GPT

Use the scaffold script from the project root (scaffolder uses `agents/templates/custom_gpt` by default):

```bash
npm run scaffold <gpt-name>
```

Example with options:

```bash
npm run scaffold my-assistant \
  --description "A helpful AI assistant" \
  --author "Your Name" \
  --tags "helper,assistant"
```

## GPT Structure

Each Custom GPT follows this structure:

```text
[gpt-name]/
├── gpt.json              # Configuration metadata (name, description, author, tags, created)
├── README.md             # GPT documentation
├── instructions/         # GPT instructions and prompts (main.md)
├── actions/              # Custom actions (optional)
│   └── schema.json       # OpenAPI 3.1 schema (scaffolder updates info.title/info.description)
└── knowledge/            # Knowledge files (max 20)
  ├── index.md         # Generated by `npm run generate-index`
  └── [your files]
```

## Knowledge Files

- **Maximum**: 20 files per Custom GPT (repo rule; validation fails if exceeded)
- **Formats**: Markdown (.md), Text (.txt), PDF (.pdf), Code files
- **Organization**: Use subdirectories and descriptive names; `scripts/generate-index.mts` groups by first-level folders
- **Index**: Run `npm run generate-index <gpt-name>` to create or update `knowledge/index.md`

## Validation

Validate your GPT structure (errors vs warnings):

- Errors (block commit/workflow): missing required directories (`instructions`, `actions`, `knowledge`), missing `gpt.json`,
  or `knowledge/` containing more than 20 files.
- Warnings (informational): missing `instructions/main.md`, missing `actions/schema.json`, or empty `knowledge/`.

Run validator:

```bash
# Validate specific GPT
npm run validate <gpt-name>

# Validate all GPTs
npm run validate
```

## Best Practices

1. **Keep it focused**: Each GPT should have a clear, specific purpose
2. **Organize knowledge**: Group related files in subdirectories
3. **Document well**: Update instructions/main.md with clear guidance
4. **Stay under limit**: Monitor file count (max 20 files)
5. **Use descriptive names**: Both for GPT directories and knowledge files
6. **Validate regularly**: Run validation after changes
7. **Generate indexes**: Keep knowledge/index.md up to date

## Example GPTs and templates

Check `agents/templates/` (especially `agents/templates/custom_gpt`)
for the base structure and example files used by the scaffolder.

See `agents/templates/README.md` for details on template contents and conventions.
